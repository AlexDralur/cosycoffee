# **CosyCoffee**

## **Overview**

Cosycoffee is coffee roaster with an e-commerce website aimed to coffee lovers. On the website, the users can find several options of speciality coffee beans roasted by the company to buy and also accessories like filters, different brewing methods and others. Once they are logged in and they make their first purchase, their shipping details are attached to their profile, so they do not need to repeat that step on a second order. They also have the chance to sign up for the newsletter.

![Main screen screenshot](media/images-docs/main_page_screenshot.png)

## Table of contents

- [**Cosy Coffee**](#cosycoffee)
  - [**Overview**](#overview)
  - [Table of contents](#table-of-contents)
  - [**Briefing**](#briefing)
    - [**Opportunity:**](#product)
    - [**Cosycoffee:**](#cosycoffee)
  - [**Planning stage**](#planning-stage)
    - [**Target Audiences:**](#target-audiences)
    - [**User Stories:**](#user-stories)
    - [**Site Aims:**](#site-aims)
    - [**Marketing Strategy Implementation**](#marketing-strategy-implementation)
        - [*Branding*](#branding)
        - [*SEO*](#seo)
        - [*Keywords*](#keywords)
        - [*Newsletter*](#newsletter)
        - [*Social media*](#social-media)
    - [**Cosy Coffee Structure:**](#cosycoffee-structure)
    - [**Cosy Coffee Wireframes:**](#cosycoffee-wireframes)
    - [**Database Models:**](#database-models)
    - [**Current Features**](#current-features)
        - [*Main Screen:*](#main-screen)
        - [*Products page:*](#products-page)
        - [*Product detail page:*](#product-detail-page)
        - [*Recipes page:*](#recipes-page)
        - [*Recipe detail page:*](#recipe-detail-page)
        - [*Shopping cart page:*](#shopping-cart-page)
        - [*Secure checkout:*](#secure-checkout)
        - [*Profile page:*](#profile-page)
        - [*Producers page:*](#producers-page)
        - [*Products Management page:*](#product-management-page)
        - [*Producers Management page:*](#producers-management-page)
        - [*Recipes Management page:*](#recipes-management-page)
        - [*Footer:*](#footer-section)
        - [*404 page:*](#404-page)
  - [**Future-Enhancements**](#future-enhancements)
  - [**Testing Phase**](#testing-phase)
  - [**Validators**](#validators)
  - [**Bugs**](#bugs)
  - [**Deployment**](#deployment)
  - [**Tech**](#tech)
  - [**Credits**](#credits)
    - [**Honorable mentions**](#honorable-mentions)
    - [**Content:**](#content)

## **Briefing**

### **Opportunity:**

Specialty coffee market is growing at a fast speed. According to a study from December 2023, the expectation is that the [specialty coffee market is set to double to $51.4 Billion by 2030](https://stir-tea-coffee.com/tea-coffee-news/specialty-coffee-market-set-to-double-to-51-4-billion-in-203/). Also, considering the incrase in the amount of people shopping online, it is an opportunity waiting to be taken. Even if there are other players already in the market, there is space for a solution based on the consumer.

### **Cosycoffee:**

Cosycoffee appears as a soltuon for that opportunity. It provides specialty coffee, from small farmers (all traceable), directly to the users address. It also provides brewing methods and its recipes for the user to try at home. 

The idea is not only to sell coffee and products, but to become a hub of information when the user can access either if they did buy their coffee beans with the e-commerce or not. The information on the e-commerce will bring users to the e-commerce and vice-versa.

It creates brandlovers. People who will want the brand to interact with them, making easier for marketing strategies to be more effective, like email markeing. Brandlovers will not only disseminate the name of the company, but also defend it if any crisis appears. 

## **Planning stage**

### **Target Audiences:**

- Users interested in coffee.
- Users interested in coffee roasters.
- Users interested in speciality coffee.
- Users interested in a premium experience with coffee.
- Users interested in having good quality coffee at their own property.
- Users interested in making high quality coffee at home.
â€‹

### **User Stories:**

- As a user, I want to sign up.
- As a user, I want to sign in.
- As a user, I want to sign out.
- As a user, I want to reset my password.
- As a user, I want to see all the available coffees/accessories.
- As a user, I want to search all the available coffees/accessories.
- As a user, I want to see more details of each coffee/accessory.
- As a user, I want to see the producers of the coffee beans.
- As a user, I want to see the recipes of the coffee beans.
- As a user, I want to add the coffee/accessory to the cart.
- As a user, I want to check my current shopping cart.
- As a user, I want to add or remove the quantity of items in the shopping cart.
- As a user, I want to remove items of the shopping cart.
- As a user, I want to know how much is order at any specific time.
- As a user, I want to add my shipping and billing addresses.
- As a user, I want to know how much would be the shipping cost.
- As a user, I want to add my payment details.
- As an user, I want to see the orders I made on website.
- As an admin, I want to add coffee/accessories to the website.
- As an admin, I want to update coffee/accessories information on the website.
- As an admin, I want to remove coffee/accessories from the website.
- As an admin, I want to add producers to the website.
- As an admin, I want to update the producers information on the website.
- As an admin, I want to remove the producers from the website.
- As an admin, I want to add recipes to the website.
- As an admin, I want to update the recipes information on the website.
- As an admin, I want to remove the recipes from the website.
â€‹

### **Site Aims:**

- To provide an e-commerce website for coffee aficionados.
- To provide the information clients interested in speciality coffee would be interested, such as origin, processing method, producer, etc.
- To provide a safe environment for users to buy coffee or coffee paraphernalia.
- To provide an excellent buying experience with information in all the steps of the buying process.
- To allow users to sign up to the Newsletter so they can be informed of any sales, promotions or new arrivals.

### **Marketing Strategy Implementation:**

#### *Branding:*
- Considering that coffee is a fruit and the thought of it reminds plantation, the base colours for the project were earth ones, with brown, black and white to geberate contract. For the font, Mulish was the one chosen: it is a clear, non-serif font, with sober identity that can provide easy ready.
![Cosycoffee Branding - Colours](media/images-docs/colours_palette.png)

#### *SEO:*
- The project was though in a way that any search engine could take advantage of any of the pages of the website. All of the texts in the website, specially the descriptions use keywords that would provide a better classification of the website for queries regading coffee roasters, coffee beans and any related searches.

#### *Keywords:*
- The head part of the website also contains the keywords relevate for the website. Keywords are living data. They can change: new ones can be added, others can be removed. So it is a study that needs to be done on a constantly basis. For this project, a search should be carried out every six months through plataforms like Google Ads to provide the best results.

#### *Newsletter:*
- As part of an objective of interacting with the clients of the website in the most engaging and personal way, a Newsletter subscription was created. That allows the users to opt-in for the emails where they can have access to the lastest offers and new products that are added to the website. It is a non-invasive marketing option, that only reaches out to people who are really interested in the company and/or products.

#### *Socialmedia:*
- Like the Newsletter, Social Media is a necessary point of contact for any company that wants not only to have clients but brandlovers. Brandlovers are especially important for situations for when crysis occur. They can be a way to prevent or to come back easily from a bad situtation, brandwise. Based on a BrandPersona study the best ones can be chosen. Since coffee has a lot to do with visual and feeling, Facebook, Instagram and Tiktok would be highly recommended.
![Cosycoffee Branding - Facebook](media/images-docs/facebook_mockup.png)

### **Cosy Coffee Structure:**
- There are three levels of access within the e-commerce. The first is the user who is not registered in the website. They can see the products, producers, search for products, the bag, have access to the footer and also access the page to login and signup. If the user is registered, they can have access to their profile page, with their previous orders and also the checkout page. The last level is superuser, the administrator of the website, who can add products and producers. They can also edit and delete on the products and producers page.

![Cosycoffee Structure - Diagram](media/images-docs/cosy_coffee_diagram.png)

### **Cosy Coffee Wireframes:**
Wireframes made with [Figma](https://www.figma.com/)

- Desktop Wireframes
![Main page wireframe](media/images-docs/cosycoffee-mainpage-wireframe.PNG)

![Products page wireframe](media/images-docs/cosycoffee-productspage-wireframe.PNG)

![Product Detail page wireframe](media/images-docs/cosycoffee-productdetail-wireframe.PNG)

![Recipes page wireframe](media/images-docs/cosycoffee-recipespage-wireframe.PNG)

![Recipe detail page wireframe](media/images-docs/cosycoffee-recipedetailspage-wireframe.PNG)

![Producers page wireframe](media/images-docs/cosycoffee-producerspage-wireframe.PNG)

![Shopping Bag page wireframe](media/images-docs/cosycoffee-shoppingbag-wireframe.PNG)

![Checkout page wireframe](media/images-docs/cosycoffee-checkout-wireframe.PNG)

- Mobile Wireframes

![Main page wireframe](media/images-docs/cosycoffee-mainpage-mobile-wireframe.png)

![Products page wireframe](media/images-docs/cosycoffee-productspage-mobile-wireframe.png)

![Product Detail page wireframe](media/images-docs/cosycoffee-productdetail-mobile-wireframe.png)

![Recipes page wireframe](media/images-docs/cosycoffee-recipes-mobile-wireframe.png)

![Recipe detail page wireframe](media/images-docs/cosycoffee-recipedetail-mobile-wireframe.png)

![Producers page wireframe](media/images-docs/cosycoffee-producers-mobile-wireframe.png)

![Shopping Bag page wireframe](media/images-docs/cosycoffee-shoppingbag-mobile-wireframe.png)

![Checkout page wireframe](media/images-docs/cosycoffee-checkout-mobile-wireframe.png)

### **Database models:**
- The models were created with DrawQSL.

![Database models - Diagram](media/images-docs/database_models_screenshot.png)

## **Current Features**

â€‹

#### *Main Screen:*

- Main screen of the website. The page is divided in five main areas:
  . Banner with the threshold for free shipping.
  . Navigation bar with a search button for the products and profile access.
  . Quick links to the products: all products, coffee beans or accessories.
  . Carousel with the main products available.
  . Footer with connection to social media profiles.

![Main screen screenshot](media/images-docs/main_page_screenshot.png)

#### *Products page:*

- Once the user/visitor clicks in one of the products links, the page of the products is shown. It provides the image, name, the price and the rate of the product.The page can also be filtered by microlot coffees and accessories.

![Product page screenshot](media/images-docs/products_page_screenshot.png)
![Product page microlot screenshot](media/images-docs/products_microlot_screenshot.png)
![Product page accessories screenshot](media/images-docs/products_accessories_screenshot.png)

#### *Product detail page:*

- When the user clicks at any of the products, they are redirect to the information of the product. They have more details of each product and can choose to add to their shopping cart the quantity they desire of the product.

![Product detail screenshot](media/images-docs/product_detail_screenshot.png)

#### *Recipes page:*

- The user also has access a some recipes that the e-commerce provides. Aiming to create a close relantionship with the customers, the idea is to promote coffee and also to provide the knowledge so that the customers can really enjoy the coffee they are acquiring.

![Recipes page screenshot](media/images-docs/recipes_screenshot.png)

#### *Recipe detail page:*

- Once the user accesses the page for the chosen brewing method, he has a table with contains what is needed prior to making the coffee, like amount of coffee, water, etc. They also have the information of how many cups that specific recipe would result. There is also a description on how to prepare the cup.

![Recipe detail screenshot](media/images-docs/recipe_detail_screenshot.png)

#### *Shopping cart page:*

- If the user clicks on the shopping cart at the navbar, the user can access their current order. They will have a list of the items, with their quantity, how much each individual item will cost and if they have free shipping or not. If they have not reached the threshold, the website inform the user how much more they need to add to the car to be able to have free delivery.

![Shopping cart screenshot](media/images-docs/bag_screenshot.png)

#### *Secure checkout:*

- When the user decides to make the payment, they are taken to the page where they can add their shipping/billing information. If they are not logged in, the website requests them to login or to sign up. They are not able to pay for an order without an account. This is a marketing decision, so that every sell can bring a new lead for the list of users and for the newsletter. Once the payment is finalised, they are informed that the order was made and that they will received an email with the confirmation soon.
 
![Secure checkout screenshot](media/images-docs/secure_checkout_screenshot.png)
![Order succeeded screenshot](media/images-docs/order_successful_screenshot.png)

#### *Profile page:*

- Once the user makes their first buy, their profile is automatically saved into their profile. However, the users can access and update all the details if necessary. The users also can access their previous order and check what they ordered.

![Profile screenshot](media/images-docs/profile_page_screenshot.png)

#### *Product Management page:*

- Administradors of the page have access to the product management page. In this page, they can add new products to the website. To edit and delete products, the administrator can do through the products page. Each product has their own update and delete buttons.

![Products Management screenshot](media/images-docs/product_management_screenshot.png)

#### *Producers Management page:*

- Like the page above, administradors of the page have access to add new producers to the website. They are connected to the coffee. So, whenever a new coffee product is added, the administrator can choose from one of the producers listed.

![Producers Management screenshot](media/images-docs/producers_management_screenshot.png)

#### *Recipes Management page:*

- Like the previous ones, administradors of the page have access to add new recipes to the website.

![Producers Management screenshot](media/images-docs/recipes_management_screenshot.png)

#### *Footer section:*

- At the bottom of the page, users have the footer with a summary of the whole website and also access to the social media pages and the option to opt-in to the Newsletter.

![Footer screenshot](media/images-docs/footer_screenshot.png)

#### *Privacy page:*

- The page also provides a legal text regarding Privacy. User can access and to the text and what would be the use of the data provided by the user, if it was a real website.

![Privacy screenshot](media/images-docs/privacy_screenshot.png)

#### *404 page:*

- The website also has a custom 404 page if the user uses a link that does not exist.

![404 screenshot](media/images-docs/404_page_screenshot.png)

## **Future-Enhancements**

â€‹

- Users log through their social networks profiles (FB, X).
- Users leave their own ratings instead of the rates given by the company.
- Users be able to share their own coffee recipes.

â€‹

## **Testing Phase**


* Responsiveness - To ensure that the responsiveness of the website was the best possible, to project was built having the mobile access as the base of the design. The initial tests were made on the mobile, extensively and in different models, to confirm that the website was delivering what it was proposed.

    On mobile, the website was tested on the following devices:
    * Samsung 20FE
    * Iphone 13 Pro Max
    * Iphone SE (3rd generation)

    No issues were noted upon project completion.

    On tablets, the website was tested on the following device:
    * Ipad Air 4

    No issues were noted upon project completion.

    On notebooks, the website was tested on the following devices:
    * Dell Latitute 15
    * Macbook Air

    No issues were noted upon project completion.

    For the desktop tests, an Asus VX228 monitor was also used.
    No issues were noted upon project completion.


Implementation: Create new category as admin.

Test: Access admin area and created new category.

Result: New category appeared on the website.
***

Implementation: Create new product.

Test: Access Product Management page and created new category.

Result: New product appeared on the website.
***

Implementation: Create new producer.

Test: Access Producers Management page and created new category.

Result: New producer appeared on the website.
***

Implementation: Update product.

Test: Access Product edit page and made modification.

Result: Modification appeared on the website.
***

Implementation: Update producer.

Test: Access Producer edit page and made modification.

Result: Modification appeared on the website.
***

Implementation: Delete product.

Test: Click delete button of a specific product.

Result: Product removed from the website.
***

Implementation: Delete producer.

Test: Click delete button of a specific producer.

Result: Producer removed from the website.
***

Implementation: Create new user.

Test: Accessed sign up page and input information.

Result: Email with confirmation sent and user created.
***

Implementation: Login to account.

Test: Accessed login page and input details.

Result: Access granted.
***

Implementation: 404 page.

Test: Accessed non-existing address within the website.

Result: Custom 404 page loaded.
***

Implementation: Shop microlot coffees.

Test: Click shop now button in index page.

Result: Products page filtered with microlot items.
***

Implementation: Only authenticated users can purchase on the website.

Test: Access the checkout page and tried to finish the purchase.

Result: No area to input card details or the button to finish purchase.
***

Implementation: Prevent user to input no card details.

Test: Tried to checkout without typing any card details.

Result: Page reloads informing that the card number is incomplete.
***

Implementation: Delivery details are saved after the purchase if user checks box.

Test: Finilised a purhcase and checked the box to save details in profile.

Result: Profile page shows the delivery information from the last purchase.
***

## **Validators**

. Lighthouse (low numbers related to Heroku and to third party cookies - Stripe) ![Lighthouse screenshot](media/images-docs/cosycoffee-lighthouse.png)

. W3C HTML Validator ![W3C HTML Validator screenshot](media/images-docs/cosy_coffee_html_validator.png)

. W3C CSS Validator ![W3C CSS Validator screenshot](media/images-docs/cosy_coffee_css_validator.png)

. Python Linter
All pages passed the Python Linter check.

## **Bugs**

Problem ðŸž: Add_to_bag view was not funcionting properly.

CauseðŸ› : Information being passed was not clear.

Resolutionâœ…: Create hidden input button so the correct information could be retrieved.
***

Problem ðŸž: Bag was not rendering correct the products.

CauseðŸ› : Item being added to bag incorrectly.

Resolutionâœ…: Change view code.
***

Problem ðŸž: Bag page would not show the price for the item.

CauseðŸ› : Product model contains the three possible prices, depending of the weight (if coffee) or if it is an accessory.

Resolutionâœ…: Added MathFilters library to allow division to be applied in Django template.
***

Problem ðŸž: Remove button would not remove item.

CauseðŸ› : Weight variable was being rewritten after being retrieved by the view.

Resolutionâœ…: Removed variable being called.
***

Problem ðŸž: Checkout success page not returning with the total.

CauseðŸ› : View and model were not handling the information being passed.

Resolutionâœ…: Changed the dictionary being created to allow the information to be read properly.
***

Problem ðŸž: 400 error with Stripe Webhook.

CauseðŸ› : SECRET_WH_KEY not added to scope.

Resolutionâœ…: Added key to scope.
***

Problem ðŸž: Button Add to Cart allowing to be clicked if input had quantity 0.

CauseðŸ› : The function did not specify to block button if quantity was 0.

Resolutionâœ…: Add if statement to logic.
***

Problem ðŸž: 500 error when user tried to sign up on the website.

CauseðŸ› : Requirements.txt was not matching the template of the project.

Resolutionâœ…: Corrected requirements.txt file.
***

Problem ðŸž: Order history page would not show items of the order.

CauseðŸ› : The loop on the template was not considering the saved information.

Resolutionâœ…: Add logic to loop through the saved items.
***

Problem ðŸž: Checkout page would not reload properly if no card details were typed.

CauseðŸ› : The field was not as required.

Resolutionâœ…: Add required to field.
***

Problem ðŸž: User could finalise a purchase without being logged in.

CauseðŸ› : The button to complete order was outside the if statement in the template.

Resolutionâœ…: Added the button to the if statement and add an else part to allow user to return to shop if not logged in.
***

## **Deployment**

## Prerequisites

- [Heroku account](https://signup.heroku.com/).
- [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli#install-the-heroku-cli).
- [Stripe](https://stripe.com/)
- [AWS](https://aws.amazon.com/)

## Deployment to Heroku

1. In the environment, confirm that all the requirements are up to date on the requirements.txt file. This can be done with the following command: `pip3 freeze --local > requirements.txt`.
2. Also in the environment, confirm that sensitive information is not public displayed, so all of them are kept in the env.py file and that the file itself is mentioned inside the `.gitignore` file so the file is not pushed to the Github repository.
3. Create a `Procfile` file in the root of the project so Heroku can read the project.
4. Access Heroku.
5. Click in New App.
6. On the new page, choose the name of the app and select the region closest to yours.
7. Once the app page appears, go to Settings.
8. Locate the Config Vars button and click.
9. Add the relevant variables to the app as mentioned below.
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY
- STRIPE_PUBLIC_KEY
- STRIPE_SECRET_KEY
- STRIPE_WH_SECRET
- DATABASE_URL
- SECRET_KEY
10. Click in Deploy.
11. In the deployment method, choose Github and connect account.
12. Below, in App connect to Github, choose the relevant repository.
13. Check the box for automatic deploys (this will guarantee that the app is always up to date with the last updated version in Github).
14. Click deploy.


## **Tech**

- Python.
- Django.
- Javascript.
- Django-allauth.
- Pillow.
- Crispy-forms.
- Stripe.
- Mailchimp.
â€‹

## **Credits**

### **Honorable mentions**

- Larissa Moura (my wife) - She was my tester and also my design guru.
- Richard Wells (my Code Institute tutor) - Help me throughout the project in all aspects.
â€‹

### **Content:**

- Structure of the project (apps) based on the codealong project "Boutique Ado" from [CodeInstitute](<https://github.com/Code-Institute-Org/boutique_ado_v1>)
- Search bag based on the simple bar example from [SliderRevolution](<https://www.sliderrevolution.com/resources/css-search-box/>)
- Images of producers collected from [Freepik](<https://www.freepik.com>)
- Images of acccessories taken from each company website
- Facebook mockup structure from [Unblast](<https://unblast.com/free-facebook-page-mockup-2022-psd/>)
- SKUs made with [Zoho](<https://www.zoho.com/inventory/sku-generator/>)
- Footer HTML based on the basic footer structure from [MDBootstrap](<https://mdbootstrap.com/docs/b4/jquery/navigation/footer/>)
- Privacy Policy made with [TermsFeed](<https://app.termsfeed.com/>)
